from random import choice

forecast = ['Положительный', 'Нерешительно положительный', 'Нейтральный', 'Отрицательный']
positive = ['Бесспорно', 'Предрешено', 'Никаких сомнений',  'Определённо да', 'Можешь быть уверен в этом']
indecisive = ['Мне кажется - да', 'Вероятнее всего', 'Хорошие перспективы', 'Знаки говорят - да', 'Да']
neutral = ['Пока неясно, попробуй снова', 'Спроси позже', 'Лучше не рассказывать', 'Сейчас нельзя предсказать', 'Сконцентрируйся и спроси опять']
negative = ['Даже не думай', 'Мой ответ - нет', 'По моим данным - нет', 'Перспективы не очень хорошие', 'Весьма сомнительно']

def cast():
    g = choice(forecast)
    if g == 'Положительный':
        n = choice(positive)
    elif g == 'Нерешительно положительный':
        n = choice(indecisive)
    elif g == 'Нейтральный':
        n = choice(neutral)
    else:
        n = choice(negative)
    return g, n

def validate_yn():
    while True:
        text = input().lower().strip()
        options_y = ('д', 'y', 'yes', 'да')
        options_n = ('н','n', 'no', 'нет')
        if text in options_y or text in options_n:
            return text in options_y
        else:
            print('Неверный ввод. Повторите:')

print('Привет Мир, я магический шар, и я знаю ответ на любой твой вопрос.\n')
name = input('Как тебя зовут? ')

new_q = True

while new_q:
    # список вопросов и ответов
    list_q_n = []
    # счётчики
    counter_p, counter_i, counter_n, counter_neg = 0, 0, 0, 0

    while True:
        # генерация ответа
        g, n = cast()
        # узнаем вопрос
        question = input('Что тебя интересует? ')
        # отвечаем
        print(f'Мой ответ: {n}')
        # добавляем в пустой список вопрос и ответ к нему
        list_q_n.append(question + ' : ' + n)
        #считаем инфу для статистики
        if g == 'Положительный':
            counter_p += 1
        elif g == 'Нерешительно положительный':
            counter_i += 1
        elif g == 'Нейтральный':
            counter_n += 1
        else:
            counter_neg += 1
        # узнаем у пользователья хоте ли он ещё что-то узнать
        print('Интересуте тебя что-то ещё? (Необходимо указать "Да/Нет")', end=' ')
        if validate_yn():
            new_q = True
        else:
            new_q = False
            break

    # выводим статистику
    print(f'\nЯ вас понял, вот небольшая статистика по моим ответам:\n'
          f'Кол-во положительных ответов на ваши вопросы {counter_p}\n'
          f'Кол-во нерешительно положительных ответов на ваши вопросы {counter_i}\n'
          f'Кол-во нейтральных ответов на ваши вопросы {counter_n}\n'
          f'Кол-во негативных ответов на ваши вопросы {counter_neg}\n')

    # узнаем хочет ли пользователь увидеть вопросы и ответы к ним
    print('Хотите увидеть все заданные вопросы и ответы к ним? (Необходимо указать "Да/Нет")')
    if validate_yn():
        for i in range(len(list_q_n)):
            print(list_q_n[i])
        print(f'\nУдачи, {name}!')
    else:
        print(f'\nУдачи, {name}!')
